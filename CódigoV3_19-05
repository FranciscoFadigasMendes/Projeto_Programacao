#include <stdio.h>
#include <stdlib.h>
#include <locale.h> /*Biblioteca que permite usar acentos e caracteres especiais.
                    NOTA: Esta biblioteca obriga o uso do Encoding "Windows-1252" */
#define N_PC 25


void menu_inicial();
void opc_menu(int opc);
void add_computador();
void solicitar_intervencao();
void registar_intervencao();
void lista();
void info();
void gravar();
void sair();


struct data {                 // Estruta  especifica para as datas
    int dia,mes,ano;
};

struct geral{               //Estrutura que contem todas as variáveis
    int add_numero_id;
    char designacao[50];
    char nome_colab[50];
    struct data data_atribuicao;
    int estado_computador;
    float valor_equipamento;
    char codigo_int[50];
    int numero_id;
    struct data data_pedido;
    char descricao[200];
};

int contador=0;   // inicilaiza o contador a 0


//------------------------------------------------------
//------------------------------------------------------

int main()
{
    int opc;

    do{
        menu_inicial();
        fflush(stdin);
        scanf("%d",&opc);
        opc_menu(opc);
    }
    while(opc=!0);

    printf("-----------------------------------------------------");

return 0;
}
//------------------------------------------------------
//---------------Funcões Secundárias--------------------

void menu_inicial()                 //Função que imprime o display do menu principal
{

setlocale(LC_ALL, "Portuguese"); //AVISO-----Ainda não tem til

printf("\n\n\n\n\t\t\tGestão de Computadores Portáteis\n\n");
printf("Total de Computadores: %d\t\t\t",contador);
printf("Valor dos Computadores(euros):(memoria a definir)\n");
printf("Intervenções Solicitadas:\t\t\t\t\t");
printf("Intervenções Efetuadas:(memoria a definir)\n\n");

printf("1. Novo Computador\n");
printf("2. Solicitar Intervenção\n");
printf("3. Registar Intervenção\n");
printf("4. Listar\n");
printf("5. Informações\n");
printf("6. Gravar\n");
printf("0. Sair\n\n");
printf("Selecione a Opção:");
}

//-------------------------------------------------------

void opc_menu(int opc)  //Função que vai ler a opcção do utilizador e redirecioná-lo para o sub-menu correto
{

    switch(opc)
    {
    case 1:
        add_computador();
        break;
    case 2:
        solicitar_intervencao();
        break;
    case 3:
        registar_intervencao();
        break;
    case 4:
        lista();
        break;
    case 5:
        info();
        break;
    case 6:
        gravar();
        break;
    case 7:
        sair();
        break;
    default:
        printf("\n\nEscolha apenas uma das opções\n\n");
    }

}
/*--------------------------------------------------------------------------*/
void add_computador()
{
    int i;
    struct geral computador[N_PC];

    printf("contador:%d\n",contador);


    printf("\nIntroduza o Número de Identificação:\n");
    fflush(stdin);
    scanf("%d",&computador[contador].add_numero_id);

    printf("Introduza a Designação do Computador:\n");
    fflush(stdin);
    scanf("%s",&computador[contador].designacao[50]);

    printf("Introduza o Nome do Colaborador que foi atribuído o portátil:\n");
    fflush(stdin);
    scanf("%s",&computador[contador].nome_colab[50]);

    contador++;       //soma +1 ao contador por cada vez que se adiciona um computador
    printf("\nLista dos Computadores criados:\n");
        for(i=0;i<contador;i++)                    //mostra uma lista dos computadores já criados
            {
            printf("\n\nComputador %d :\nCódigo-->%d\nDesignação-->%s\nNome do Colaborador:%s",i+1,computador[i].add_numero_id,computador[contador].designacao[50],computador[contador].nome_colab);
            }

}
/*--------------------------------------------------------------------------*/
void solicitar_intervencao()
{

}
/*--------------------------------------------------------------------------*/
void registar_intervencao()
{

}
/*--------------------------------------------------------------------------*/
void lista()
{

}
/*--------------------------------------------------------------------------*/
void info()
{

}
/*--------------------------------------------------------------------------*/
void gravar()
{

}
/*--------------------------------------------------------------------------*/
void sair()
{

}
/*--------------------------------------------------------------------------*/
